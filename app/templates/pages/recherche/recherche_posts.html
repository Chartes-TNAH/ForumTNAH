{% extends "./base.html" %}

{% block app_content %}
<div class="row">
    <div class="col-sm-2"></div>
    <div class="col-sm-7 formulaire">
        {% include './partials/recherche/recherche_posts.html' %}
    </div>
    <div class="col-sm-2"></div>
</div>


{% if resultats %}
<h1>{{resultats.total}} r√©sultats pour la recherche "{{ keyword }}" :</h1>
<ul>
    {% for resultat in resultats.items %}
    <li><b>{{ resultat.post_titre }}</b><br/>
        {% if resultat.html %}
        {{ resultat.html | safe }}
        {% else %}
        {{ resultat.post_message }}
        {% endif %}</li>
    {% endfor %}
</ul>
<nav aria-label="research-pagination">
    <ul class="pagination">
        {%- for page in resultats.iter_pages() %}
        {% if page %}
        {% if page != resultats.page %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for('recherche_posts', keyword=keyword, page=page) }}">{{page}}</a>
        </li>
        {% else %}
        <li class="page-item active disabled">
            <a class="page-link">{{page}} <span class="sr-only">(actuelle)</span></a>
        </li>
        {% endif %}

        {% else %}
        <li class="page-item disabled">
            <a class="page-link">...</a>
        </li>
        {% endif %}

        {%- endfor %}
    </ul>
</nav>
{% endif %}
{% endblock %}