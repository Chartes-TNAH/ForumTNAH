{% extends "./base.html" %}

{% block app_content %}
{%include 'partials/posts_liste.html'%}

<h4>Commenter ce post</h4>
<form action="" method="post">
        {{ form.hidden_tag() }}
        {{super()}}
        {{pagedown.include_pagedown()}}
        <p>
            {{ form.message.label }}<br>
            {{ form.message(cols=70, rows=7) }}<br>
            {% for error in form.message.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>{{ form.submit() }}</p>
    </form>
{%for comment in comments%}
{%include 'partials/comments.html'%}
{%endfor%}
<!-- gestion de la pagination -->
    <nav aria-label="research-pagination">
  <ul class="pagination">
    {%- for page in pagination.iter_pages() %}
        {% if page %}

          {% if page != pagination.page %}
            <li class="page-item">
                <a class="page-link" href="{{ url_for('post', id=post, page=page) }}">{{page}}</a>
            </li>
          {% else %}
            <li class="page-item active disabled">
              <a class="page-link">{{page}} <span class="sr-only">(actuelle)</span></a>
            </li>
          {% endif %}

        {% else %}
            <li class="page-item disabled">
              <a class="page-link">...</a>
            </li>
        {% endif %}

    {%- endfor %}
  </ul>
</nav>
{%endblock%}